(()=>{"use strict";var t=function(){function t(t,e,r,n,o,s,i,u){this.id=t,this.name=e,this.repoURL=r,this.author=n,this.authorURL=o,this.forkNumber=s,this.starNumber=i,this.issueNumber=u}return t.prototype.getID=function(){return this.id},t.prototype.setID=function(t){this.id=t},t.prototype.getName=function(){return this.name},t.prototype.setName=function(t){this.name=t},t.prototype.getRepoURL=function(){return this.repoURL},t.prototype.getAuthor=function(){return this.author},t.prototype.setAuthor=function(t){this.author=t},t.prototype.getAuthorURL=function(){return this.authorURL},t.prototype.getForkNumber=function(){return this.forkNumber},t.prototype.getStarNumber=function(){return this.starNumber},t.prototype.getIssueNumber=function(){return this.issueNumber},t}(),e=function(){function t(){this.user="",this.repoName="",this.language="All"}return t.prototype.getUser=function(){return this.user},t.prototype.setUser=function(t){this.user=t},t.prototype.getRepoName=function(){return this.repoName},t.prototype.setRepoName=function(t){this.repoName=t},t.prototype.getLanguage=function(){return this.language},t.prototype.setLanguage=function(t){this.language=t},t}(),r=function(){function t(){this.filter=new e}return t.prototype.getMethod=function(){return this.method},t.prototype.setMethod=function(t){this.method=t},t.prototype.getHeaders=function(){return this.headers},t.prototype.setHeaders=function(t){this.headers=t},t.prototype.sendREADMERequest=function(){return fetch(this.request,{method:"GET",headers:{Accept:"application/vnd.github.html"}}).then((function(t){return t.text()})).then((function(t){return t})).catch((function(t){console.log(t)}))},t.prototype.sendSearchRequest=function(){return this.buildSearchRequest(),console.log(this.filter),console.log(this.getRequest()),fetch(this.request,{method:"GET",headers:{Accept:"application/vnd.github.v3+json"}}).then((function(t){return t.json()})).then((function(t){return t})).catch((function(t){console.log(t)}))},t.prototype.getRequest=function(){return this.request},t.prototype.setRequest=function(t){this.request=t},t.prototype.getFilter=function(){return this.filter},t.prototype.buildREADMERequest=function(){},t.prototype.buildSearchRequest=function(){this.setMethod("GET");var t="https://api.github.com/search/repositories?q=";t+="user:"+this.filter.getUser()+"\n                                  +language:"+this.filter.getLanguage()+"\n                                  +"+this.filter.getRepoName(),this.setRequest(t)},t}(),n=function(){function t(){this.mainBody=document.querySelector("#main")}return t.prototype.getMainBody=function(){return this.mainBody},t.prototype.clearMainBody=function(){this.mainBody.innerHTML=""},t.prototype.drawRepositoryCards=function(t){this.clearMainBody();var e=document.createElement("div");e.className="row";for(var r=0;r<t.length;r++)e.appendChild(this.drawRepositoryCard(t[r]));this.getMainBody().appendChild(e)},t.prototype.drawRepositoryCard=function(t){var e=document.createElement("div");e.className="col-12 repo-card";var r="";return r+='<h2 class="text-center"><a id="repo-header" href="'+t.getRepoURL()+'" target="_blank">'+t.getName()+'</a></h2>\n                        <h3 class="text-center">By <a id="repo-header" href="'+t.getAuthorURL()+'" target="_blank">'+t.getAuthor()+'</a></h3>\n                        <hr>\n                        <div class="row">\n                            <div class="col-4">\n                                <h3 class="text-center">Key Details</h3>\n                                <div class="row">\n                                    <div class="col-4">\n                                        <h4 class="text-center">Forks</h4>\n                                        <h1 class="text-center">'+t.getForkNumber()+'</h1>\n                                    </div>\n                                    <div class="col-4">\n                                        <h4 class="text-center">Stars</h4>\n                                        <h1 class="text-center">'+t.getStarNumber()+'</h1>\n                                    </div>\n                                    <div class="col-4">\n                                        <h4 class="text-center">Issues</h4>\n                                        <h1 class="text-center">'+t.getIssueNumber()+'</h1>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="col-8">\n                                <div id ='+t.getName()+"></div>\n                            </div>\n                        </div>\n                        ",e.innerHTML=r,e},t}();(new(function(){function e(){var e=this;this.setLanguageFilter=function(t){var r=t.target.textContent;e.APICaller.getFilter().setLanguage(r)},this.setRepositoryFilter=function(t){var r=t.target.value;e.APICaller.getFilter().setRepoName(r)},this.setUsernameFilter=function(t){var r=t.target.value;e.APICaller.getFilter().setUser(r)},this.sendSearchRequestToAPI=function(r){e.resetRepositories(),e.APICaller.sendSearchRequest().then((function(r){for(var n=0;n<r.items.length;n++){var o=r.items[n],s=new t(o.id,o.name,o.html_url,o.owner.login,o.owner.html_url,o.forks_count,o.stargazers_count,o.open_issues_count);e.repositories.push(s)}e.output.drawRepositoryCards(e.getRepositories())})).catch((function(t){console.log(t)}))},this.APICaller=new r,this.output=new n,this.repositories=new Array}return e.prototype.start=function(){var t=document.querySelector("#submit"),e=document.querySelector("#username"),r=document.querySelector("#repo"),n=document.querySelectorAll("#lang");t.addEventListener("click",this.sendSearchRequestToAPI),e.addEventListener("keyup",this.setUsernameFilter),r.addEventListener("keyup",this.setRepositoryFilter);for(var o=0;o<n.length;o++)n[o].addEventListener("click",this.setLanguageFilter)},e.prototype.run=function(){},e.prototype.getRepositories=function(){return this.repositories},e.prototype.setRepositories=function(t){this.repositories=t},e.prototype.resetRepositories=function(){this.repositories=new Array},e}())).start()})();